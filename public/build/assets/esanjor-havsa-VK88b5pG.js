import{d as ce,r as l,b2 as de,E as me,bb as ve,o as b,g as pe,f as a,b as e,n as t,H as V,a$ as G,e as r,c as S,v as f,T as se,j as fe,P as he,Q as ge}from"./main-C8N3ebfR.js";import{D as A,a as z,c as m,b as v,d as _e,e as Ie}from"./buton-mavi1-B6R0bL8k.js";import{u as ye}from"./pageTitle-DZX-JdGE.js";import{D as Y,a as s,b as H,c as F}from"./data-grid-bcHRWDWG.js";import{b as be,a as we}from"./buton-kirmizi1-CZnC_3my.js";import{a as E}from"./axios-CCb-kr4I.js";import{S as De}from"./sweetalert2.esm.all-D3pEHXw3.js";import{V as u}from"./VCard-BdrtuRPD.js";import{V as M,a as c}from"./VRow-Z9fbV_da.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./extends-CF3RwP-h.js";import"./VAvatar-DY8J7Y8l.js";import"./VImg-BEBs2K_P.js";import"./VCardText-ARgIvpol.js";/* empty css              */const J=w=>(he("data-v-f684f3e6"),w=w(),ge(),w),Re=["src"],ke=J(()=>r("h2",null,"GERİ AL",-1)),Te=["src"],Se=J(()=>r("h2",null,"ISKARTA",-1)),Ae=["src"],Ee={class:"text-center align-center justify-center pt-0"},Me={class:"rotated-text",style:{"margin-block-start":"265px"}},Ne={style:{"margin-inline-start":"-20px"}},Ue={class:"rotated-text",style:{"margin-block-start":"125px"}},Be={style:{"margin-inline-start":"-20px"}},Oe=J(()=>r("h3",{class:"rotated-text",style:{"margin-block-start":"140px"}},"ISKARTALAR",-1)),Pe={style:{"margin-inline-start":"-20px"}},Ke=ce({__name:"esanjor-havsa",setup(w){const re=o=>o<700?"sm":"lg",Q=be,D=we,ne=Ie;l(0);const x=l(!1),d=l(!1),h=l(0);l(0);const g=l(!1),$=l(!1),N=l(0);l(0);const U=l(!1),_=l(!1),B=l(0),O=l(0),I=l(0),y=l(0),P=l(""),K=l(""),n=l([]),q=l([]),W=l([]),p=l(0),X=l(0);l(0);const j=de("userData"),Z=ye(),ie=l(null),L=()=>{E.get("/api/listeEsanjor").then(o=>{n.value=o.data.liste,q.value=o.data.emirler,W.value=o.data.iskartalar,p.value=o.data.toplamListe,X.value=o.data.toplamEmir,y.value=o.data.toplamIskarta,I.value=o.data.toplamUretim}).catch(o=>{console.error("Veri çekilirken hata oluştu: ",o)})};async function ee(){if(d.value)return;x.value=!0,g.value=!0,I.value=I.value+1,O.value=Number(n.value[0].ID),E.post("/api/operasyonKaydet",{params:{id:n.value[0].ID,urunID:n.value[0].URUNID,isemriID:n.value[0].ISEMRIID,barkod:n.value[0].BARKOD,operasyon:"OPERASYON1",userID:j.value.id}}).then(i=>{console.log(i.data)}).catch(i=>{console.error("Veri çekilirken hata oluştu: ",i)}),d.value=!0,h.value=5;const o=setInterval(()=>{h.value-=1,h.value<=0&&(O.value=0,d.value=!(p.value>0),clearInterval(o))},1e3)}async function te(){if(!d.value||!g.value)return;E.post("/api/geriAl",{params:{id:O.value,userID:j.value.id}}).then(i=>{console.log(i.data)}).catch(i=>{console.error("Veri çekilirken hata oluştu: ",i)}),g.value=!1,$.value=!0,N.value=5;const o=setInterval(()=>{N.value-=1,N.value<=0&&clearInterval(o)},1e3);setTimeout(()=>{g.value=!1},5e3)}function R(){x.value=!1}function k(){x.value=!1}async function ae(){if(_.value||p.value==0)return;const{value:o}=await De.fire({title:"Iskarta Girişi",input:"select",inputOptions:{"Tipini beğenmedim":"Tipini beğenmedim","Gıcık oldum":"Gıcık oldum","Böyle şey mi olur":"Olmadı yaa"},inputPlaceholder:"Iskarta sebebini seçiniz",showCancelButton:!0});if(o){y.value=y.value+1,E.post("/api/iskartaEkle",{params:{id:n.value[0].ID,urunID:n.value[0].URUNID,isemriID:n.value[0].ISEMRIID,barkod:n.value[0].BARKOD,sebep:o,operasyon:"OPERASYON1",userID:j.value.id}}).then(oe=>{L()}).catch(oe=>{console.error("Veri çekilirken hata oluştu: ",oe)}),U.value=!0,_.value=!0,B.value=5;const i=setInterval(()=>{B.value-=1,B.value<=0&&(_.value=!(p.value>0),clearInterval(i))},1e3)}else return}function T(){U.value=!1}function le(o){return new Intl.NumberFormat("tr-TR").format(o)}const C=l(null),ue=fe().meta.title;return me(()=>{Z.setTitle(ue),Z.setToplam(""),L(),C.value=setInterval(()=>{const o=new Date;P.value=o.toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),K.value=o.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),d.value=p.value==0?!0:h.value!=0,L()},3e3)}),ve(()=>{C.value&&clearInterval(C.value)}),(o,i)=>(b(),pe(t(_e),{"screen-by-width":re,"single-column-screen":"sm"},{default:a(()=>[e(t(A),{ratio:1}),e(t(A),{ratio:1}),e(t(A),{ratio:1}),e(t(A),{ratio:1}),e(t(z),{ratio:4}),e(t(z),{ratio:3}),e(t(z),{ratio:8}),e(t(v),null,{default:a(()=>[e(t(m),{row:0,col:0,colspan:2}),e(u,{class:"pa-8 text-center mb-2 me-2",style:{width:"100%"}},{default:a(()=>[e(M,{class:"h-200"},{default:a(()=>[e(c,{cols:"5",class:"d-flex flex-column align-left justify-center ps-0"},{default:a(()=>[e(u,{class:"mantar-buton text-center d-flex align-center justify-center position-relative",style:V([{transform:x.value?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease",cursor:d.value?"not-allowed":"pointer"},{"border-radius":"100px"}]),height:"200",width:"200",onMousedown:ee,onMouseup:k,onMouseleave:k,onTouchstart:G(ee,["prevent"]),onTouchend:k,onTouchcancel:k},{default:a(()=>[r("img",{src:d.value?t(D):t(Q),alt:"Buton Simge",class:"button-icon"},null,8,Re)]),_:1},8,["style"])]),_:1}),e(c,{cols:"3",class:"d-flex flex-column align-center justify-center pt-0"},{default:a(()=>[ke,e(u,{class:"mantar-buton text-center mt-2 d-flex align-center justify-center position-relative",style:V([{transform:g.value?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease",cursor:$.value?"not-allowed1":"pointer1"},{"border-radius":"75px"}]),height:"100",width:"100",onMousedown:te,onMouseup:R,onMouseleave:R,onTouchstart:G(te,["prevent"]),onTouchend:R,onTouchcancel:R},{default:a(()=>[r("img",{src:d.value?h.value==0?t(D):t(Q):t(D),alt:"Buton Simge",class:"button-icon"},null,8,Te)]),_:1},8,["style"])]),_:1}),e(c,{cols:"4",class:"d-flex flex-column align-center justify-center pt-0 pe-0"},{default:a(()=>[Se,e(u,{class:"mantar-buton text-center mt-2 d-flex align-center justify-center position-relative",style:V([{transform:U.value?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease",cursor:_.value?"not-allowed1":"pointer1"},{"border-radius":"75px"}]),height:"150",width:"150",onMousedown:ae,onMouseup:T,onMouseleave:T,onTouchstart:G(ae,["prevent"]),onTouchend:T,onTouchcancel:T},{default:a(()=>[r("img",{src:_.value?t(D):t(ne),alt:"Buton Simge",class:"button-icon"},null,8,Ae)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(v),null,{default:a(()=>[e(t(m),{row:1,col:0,colspan:2}),e(u,{class:"d-flex flex-column align-center justify-start text-center pb-0 me-2",style:{width:"100%",height:"90px"}},{default:a(()=>[r("div",Ee,[(b(),S("h1",{key:P.value,class:"date-time mb-0"},f(P.value),1)),(b(),S("h4",{key:K.value,class:"date-time",style:{"font-size":"40px","margin-top":"-10px"}},f(K.value),1))])]),_:1})]),_:1}),e(t(v),null,{default:a(()=>[e(t(m),{row:2,col:0,rowspan:2}),e(u,{class:"uygun text-center"},{default:a(()=>[e(se,{name:"spin",mode:"out-in"},{default:a(()=>[(b(),S("h2",{key:I.value,class:"animated-number pa-0",style:{color:"green"}},f(le(I.value)),1))]),_:1})]),_:1})]),_:1}),e(t(v),null,{default:a(()=>[e(t(m),{row:2,col:1,rowspan:2}),e(u,{class:"iskarta text-center"},{default:a(()=>[e(se,{name:"spin",mode:"out-in"},{default:a(()=>[(b(),S("h2",{key:y.value,class:"animated-number pa-0",style:{color:"red"}},f(le(y.value)),1))]),_:1})]),_:1})]),_:1}),e(t(v),null,{default:a(()=>[e(t(m),{row:0,col:2}),e(u,{class:"pa-1 text-center mb-2",height:"264",outlined:"","max-width":"100%"},{default:a(()=>[e(M,null,{default:a(()=>[e(c,{cols:"1",class:"ma-0 pa-0 text-wrap"},{default:a(()=>[r("h3",Me,"SIRADAKİ YARI MAMULLER - "+f(p.value),1)]),_:1}),e(c,{cols:"11"},{default:a(()=>[r("div",Ne,[e(t(Y),{id:"grdSiradakiler",ref_key:"dataGrid",ref:ie,"data-source":n.value,"key-expr":"ID",height:260,"show-borders":!0},{default:a(()=>[e(t(s),{"data-field":"ID",caption:"ID","data-type":"number",visible:!0,width:60}),e(t(s),{"data-field":"ISEMRIID",caption:"İŞ EMRİ","data-type":"number",visible:!0,width:80}),e(t(s),{"data-field":"URUNKODU",caption:"ÜRÜN KODU","data-type":"string",visible:!0,width:140}),e(t(s),{"data-field":"URUNADI",caption:"ÜRÜN ADI","data-type":"string",visible:!0}),e(t(H),{mode:"none"}),e(t(F),{mode:"virtual","row-rendering-mode":"virtual"})]),_:1},8,["data-source"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(v),null,{default:a(()=>[e(t(m),{row:1,col:2,rowspan:2}),e(u,{class:"pa-1 mt-0",height:"145"},{default:a(()=>[e(M,null,{default:a(()=>[e(c,{cols:"1",class:"ma-0 pa-0 text-wrap"},{default:a(()=>[r("h3",Ue,"İŞ EMRİ - "+f(X.value),1)]),_:1}),e(c,{cols:"11"},{default:a(()=>[r("div",Be,[e(t(Y),{id:"grdEmirler","data-source":q.value,"key-expr":"ID",height:141,"show-borders":!0},{default:a(()=>[e(t(s),{"data-field":"ID",caption:"ID","data-type":"number",visible:!0,width:40}),e(t(s),{"data-field":"KOD",caption:"ÜRÜN KODU","data-type":"string",visible:!0,width:120}),e(t(s),{"data-field":"TANIM",caption:"ÜRÜN ADI","data-type":"string",visible:!0}),e(t(s),{"data-field":"PLANLANANMIKTAR",caption:"PLAN","data-type":"number",visible:!0,width:70}),e(t(s),{"data-field":"URETIMMIKTAR",caption:"ÜRETİM","data-type":"number",visible:!0,width:70}),e(t(H),{mode:"none"}),e(t(F),{mode:"virtual","row-rendering-mode":"virtual"})]),_:1},8,["data-source"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(v),null,{default:a(()=>[e(t(m),{row:3,col:2}),e(u,{class:"pa-1 mt-2",height:"164"},{default:a(()=>[e(M,null,{default:a(()=>[e(c,{cols:"1",class:"ma-0 pa-0 text-wrap"},{default:a(()=>[Oe]),_:1}),e(c,{cols:"11"},{default:a(()=>[r("div",Pe,[e(t(Y),{id:"grdIskartalar","data-source":W.value,"key-expr":"ID",height:161,"show-borders":!0},{default:a(()=>[e(t(s),{"data-field":"ID",caption:"ID","data-type":"number",visible:!1,width:60}),e(t(s),{"data-field":"ESANJORID",caption:"EŞ.ID","data-type":"number",visible:!0,width:60}),e(t(s),{"data-field":"ISEMRIID",caption:"İŞ EMRİ","data-type":"number",visible:!0,width:80}),e(t(s),{"data-field":"URUNKODU",caption:"ÜRÜN KODU","data-type":"string",visible:!0,width:120}),e(t(s),{"data-field":"URUNADI",caption:"ÜRÜN ADI","data-type":"string",visible:!0}),e(t(s),{"data-field":"SEBEP",caption:"SEBEP","data-type":"string",visible:!0}),e(t(H),{mode:"none"}),e(t(F),{mode:"virtual","row-rendering-mode":"virtual"})]),_:1},8,["data-source"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),et=xe(Ke,[["__scopeId","data-v-f684f3e6"]]);export{et as default};
