import{a}from"./axios-CCb-kr4I.js";import r from"./CardIstasyon-B98gLLES.js";import l from"./CardGenelDurum-BQ4othvj.js";import{u as s}from"./pageTitle-DZX-JdGE.js";import"./main-C8N3ebfR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VCard-BdrtuRPD.js";import"./VAvatar-DY8J7Y8l.js";import"./VImg-BEBs2K_P.js";import"./VCardText-ARgIvpol.js";import"./VContainer-CNJClx8r.js";/* empty css              */import"./VRow-Z9fbV_da.js";const i=s();document.title="OFT - YTK Dashboard";const A={components:{CardIstasyon:r,CardGenelDurum:l},data(){return{cards:[{title:"BORU",plan:0,uretilen:{h:0,g:0},uretim:0,kalan:0,yuzde:0,ilerleme:0},{title:"POMPA",plan:0,uretilen:{h:0,g:0},uretim:0,kalan:0,yuzde:0,ilerleme:0},{title:"ŞASE",plan:0,uretilen:{h:0,g:0},uretim:0,kalan:0,yuzde:0,ilerleme:0},{title:"SİFON",plan:0,uretilen:{h:0,g:0},uretim:0,kalan:0,yuzde:0,ilerleme:0},{title:"VENTURİ",plan:0,uretilen:{h:0,g:0},uretim:0,kalan:0,yuzde:0,ilerleme:0},{title:"GALVANİZ",plan:0,uretilen:{h:0,g:0},uretim:0,kalan:0,yuzde:0,ilerleme:0}],intervalId:null,baslik:"...",durumYuzde:0,uretilenGorunur:!0,index:0,texts:["0","..."],textsBaslik:["(gunluk)","(haftalık)"],formatliTarihSaat:"...",yuzdelik:0}},mounted(){i.setTitle("YTK Dashboard"),i.setToplam(" "),this.zamanAl(),this.mesajAl(),this.updateMiktar(),this.updateTextsPeriodically()},unmounted(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),console.log("Dashboard bileşeni yok edildi ve tüm zamanlayıcılar temizlendi.")},methods:{async zamanAl(){try{const t=await a.get("/api/dashboards/zamanal_ytk");if(t.data.KAYITTARIH){const e=new Date(t.data.KAYITTARIH);this.formatliTarihSaat=`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()} - ${e.getHours()}:${e.getMinutes()}`}}catch{this.formatliTarihSaat="..."}},async mesajAl(){try{const t=await a.get("/api/dashboards/mesajal");this.altMesaj=t.data.mesaj.DEGER||"Mesaj alınamadı"}catch(t){console.error("Mesaj çekme hatası:",t)}},async updateMiktar(){console.log("Miktar güncelleniyor...")},updateTextsPeriodically(){this.intervalId=setInterval(()=>{this.zamanAl(),this.mesajAl(),this.updateMiktar(),this.uretilenGorunur=!1,setTimeout(()=>{this.index=(this.index+1)%this.texts.length,this.baslik=this.textsBaslik[this.index],this.durumYuzde=this.texts[0],this.uretilenGorunur=!0},1e3)},3e3)}}};export{A as default};
