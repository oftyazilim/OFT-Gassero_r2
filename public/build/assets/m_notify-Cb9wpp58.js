import{k as O,e as f,d as S,J as H,O as W,$ as l,y as k,v as b,l as B}from"./index-xGAhBz7B.js";import{cW as d,c$ as w,df as h,da as u}from"./main-CXefX_qh.js";import{o as y}from"./data-grid-BLmUHH6D.js";const A=O.add,E=["info","warning","error","success"],m=[],D={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},M={h:0,v:0};A(()=>{f.subscribeGlobal(S.getDocument(),H.down,e=>{for(let t=m.length-1;t>=0;t--)if(!m[t]._proxiedDocumentDownHandler(e))return})});const _=W.inherit({_getDefaultOptions(){return d(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,preventScrollEvents:!1,closeOnSwipe:!0,closeOnClick:!1})},_defaultOptionsRules(){const e={displayTime:y()?4e3:2e3,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:200,from:0,to:1},hide:{type:"fade",duration:200,from:1,to:0}}};return this.callBase().concat([{device:t=>t.deviceType==="phone",options:w({width:"calc(100vw - 40px)"},e)},{device:t=>t.deviceType==="tablet",options:w({width:"auto",maxWidth:"80vw"},e)},{device:t=>y()&&t.deviceType==="desktop",options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init(){this.callBase(),this._posStringToObject()},_renderContentImpl(){this._message=l("<div>").addClass("dx-toast-message").text(this.option("message")).appendTo(this.$content()),this.setAria("role","alert",this._message),E.includes(this.option("type").toLowerCase())&&this.$content().prepend(l("<div>").addClass("dx-toast-icon")),this.callBase()},_render(){this.callBase(),this.$element().addClass("dx-toast"),this.$wrapper().addClass("dx-toast-wrapper"),this.$content().addClass("dx-toast-"+String(this.option("type")).toLowerCase()),this.$content().addClass("dx-toast-content"),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_toggleCloseEvents(e){const t=`dx${e.toLowerCase()}`;f.off(this.$content(),t),this.option(`closeOn${e}`)&&f.on(this.$content(),t,this.hide.bind(this))},_posStringToObject(){if(!h(this.option("position")))return;const e=this.option("position").split(" ")[0],t=this.option("position").split(" ")[1];switch(this.option("position",d({boundaryOffset:M},D[e])),t){case"center":case"left":case"right":this.option("position").at+=` ${t}`,this.option("position").my+=` ${t}`}},_show(){return this.callBase.apply(this,arguments).always(()=>{clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))})},_overlayStack:()=>m,_zIndexInitValue(){return this.callBase()+8e3},_dispose(){clearTimeout(this._hideTimeout),this.callBase()},_optionChanged(e){switch(e.name){case"type":this.$content().removeClass("dx-toast-"+e.previousValue),this.$content().addClass("dx-toast-"+String(e.value).toLowerCase());break;case"message":this._message&&this._message.text(e.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:this.callBase(e)}}});k("dxToast",_);const v=B();let C=null;const T={};function V(e,t,i){const o=u(e)?e:{message:e},s=u(t)?t:void 0,a=u(t)?void 0:t,{onHidden:r}=o;if(s!=null&&s.position){const{position:n}=s,g=s.direction||I(n),$=h(n)?n:`${n.top}-${n.left}-${n.bottom}-${n.right}`,{onShowing:c}=o,p=P($);j(p,g),d(o,{container:p,_skipContentPositioning:!0,onShowing(x){F(p,g,n),c==null||c(x)}})}d(o,{type:a,displayTime:i,onHidden(n){l(n.element).remove(),r==null||r(n)}}),C=l("<div>").appendTo(b()),new _(C,o).show()}const I=e=>h(e)&&e.includes("top")?"down-push":"up-push",L=e=>{const t=l("<div>").appendTo(b());return T[e]=t,t},P=e=>T[e]||L(e),j=(e,t)=>{const i=`dx-toast-stack dx-toast-stack-${t}-direction`;e.removeAttr("class").addClass(i)},F=(e,t,i)=>{const{offsetWidth:o,offsetHeight:s}=e.children().first().get(0),a={toastWidth:o,toastHeight:s,windowHeight:v.innerHeight,windowWidth:v.innerWidth},r=h(i)?z(i,a):i,n=K(t,r,a);e.css(n)},z=(e,t)=>{let{toastWidth:i,toastHeight:o,windowHeight:s,windowWidth:a}=t;switch(e){case"top left":return{top:10,left:10};case"top right":return{top:10,right:10};case"bottom left":return{bottom:10,left:10};case"bottom right":return{bottom:10,right:10};case"top center":return{top:10,left:Math.round(a/2-i/2)};case"left center":return{top:Math.round(s/2-o/2),left:10};case"right center":return{top:Math.round(s/2-o/2),right:10};case"center":return{top:Math.round(s/2-o/2),left:Math.round(a/2-i/2)};default:return{bottom:10,left:Math.round(a/2-i/2)}}},K=(e,t,i)=>{const{toastWidth:o,toastHeight:s,windowHeight:a,windowWidth:r}=i;switch(e.replace(/-push|-stack/g,"")){case"up":return{bottom:t.bottom??a-s-t.top,top:"",left:t.left??"",right:t.right??""};case"down":return{top:t.top??a-s-t.bottom,bottom:"",left:t.left??"",right:t.right??""};case"left":return{right:t.right??r-o-t.left,left:"",top:t.top??"",bottom:t.bottom??""};case"right":return{left:t.left??r-o-t.right,right:"",top:t.top??"",bottom:t.bottom??""}}};export{V as n};
