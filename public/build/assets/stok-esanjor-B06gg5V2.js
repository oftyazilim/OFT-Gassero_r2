import{a as N}from"./axios-CCb-kr4I.js";import{D as _}from"./button-BaNt2cEz.js";import{e as V,a as F,s as U}from"./FileSaver-kGUWF2pl.js";import{d as B,b2 as v,r as s,E as j,o as i,g as z,f as o,b as t,n as a,c,y as H,x as d}from"./main-CXefX_qh.js";import"./index-xGAhBz7B.js";import{b as l,F as M,G as Y,q as G,f as K,e as L,r as W,s as q,h as J,i as Q,j as X,H as Z,I as $,k as ee,l as te,m as ae,n as le,J as re,M as n,N as oe,O as m,D as ne}from"./data-grid-BLmUHH6D.js";import{n as ue}from"./m_notify-Cb9wpp58.js";import{u as se}from"./pageTitle-BB4Xy5Fv.js";import{V as ie}from"./VCard-pJfFDOSH.js";import"./_commonjsHelpers-BosuxZz1.js";import"./VAvatar-a73hCTk3.js";import"./VImg-Db788kHt.js";import"./index-DT3SyRRd.js";import"./VCardText-BW9gFSa-.js";const me={key:0,class:d(["dx-icon","dx-icon-check"]),style:{fontSize:"20px",color:"green"}},ce={key:1,class:d(["dx-icon","dx-icon-clock"]),style:{fontSize:"20px",color:"orange"}},de={key:0,class:d(["dx-icon","dx-icon-trash"]),style:{fontSize:"20px",color:"green"}},Se=B({__name:"stok-esanjor",setup(fe){const T=v("userAbilityRules").value||[];document.title="OFT - İş Emirleri";let f=!1,p=!1,y=!1,g=!1;T.forEach((e,u)=>{e.action==="read"&&e.subject==="Dashboard"&&(f=!0),e.action==="isemri_rea"&&(p=!0),e.action==="update"&&e.subject==="SuperAdmin"&&(y=!0),e.action==="delete"&&e.subject==="SuperAdmin"&&(g=!0)}),console.log("okuma = "+f),console.log("olusturma = "+p),console.log("guncelleme = "+y),console.log("silme = "+g);const x=se();v("userData");const h=s([]),w=s(null);s(null);var R="Stok -> Eşanjörler: ";const C=s(!0),P=e=>{e.name==="customTrueCount2"&&(e.summaryProcess==="start"&&(e.totalValue=0),e.summaryProcess==="calculate"&&e.value===1&&(console.log(e.value),e.totalValue+=1)),e.name==="customTrueCount3"&&(e.summaryProcess==="start"&&(e.totalValue=0),e.summaryProcess==="calculate"&&e.value===1&&(console.log(e.value),e.totalValue+=1)),e.name==="customTrueCount4"&&(e.summaryProcess==="start"&&(e.totalValue=0),e.summaryProcess==="calculate"&&e.value===1&&(console.log(e.value),e.totalValue+=1)),e.name==="customTrueCount5"&&(e.summaryProcess==="start"&&(e.totalValue=0),e.summaryProcess==="calculate"&&e.value===1&&(console.log(e.value),e.totalValue+=1)),e.name==="customTrueCountF"&&(e.summaryProcess==="start"&&(e.totalValue=0),e.summaryProcess==="calculate"&&e.value===1&&(console.log(e.value),e.totalValue+=1)),e.name==="customTrueCountH"&&(e.summaryProcess==="start"&&(e.totalValue=0),e.summaryProcess==="calculate"&&e.value===1&&(console.log(e.value),e.totalValue+=1))},k=()=>{D(),ue("Veriler Yenilendi","success",1500)};j(()=>{D()});const D=()=>{N.get("/api/stokEsanjor").then(e=>{h.value=e.data.data,x.setTitle(R),x.setToplam(A(e.data.toplam).toString())}).catch(e=>{console.error("Veri çekilirken hata oluştu: ",e)})},S=e=>{},A=e=>new Intl.NumberFormat("tr-TR",{maximumFractionDigits:0}).format(e),O={of:window,at:"top",my:"top",offset:{y:10}},I=e=>{e.component.option("loadPanel.enabled",!1)},E=e=>{const u=new V.Workbook,r=u.addWorksheet("StokEsanjorler");F({component:e.component,worksheet:r,autoFilterEnabled:!0}).then(()=>{u.xlsx.writeBuffer().then(b=>{U(new Blob([b],{type:"application/octet-stream"}),"StokEsanjorler.xlsx")})}),e.cancel=!0};return(e,u)=>(i(),z(ie,{class:"pa-2"},{default:o(()=>[t(a(ne),{id:"gridContainer",ref_key:"dataGridRef",ref:w,onContentReady:I,"data-source":h.value,"show-borders":!0,"key-expr":"ID","show-column-lines":!1,"show-row-lines":!0,"row-alternation-enabled":!0,"allow-column-reordering":!0,"focused-row-enabled":!0,"allow-column-resizing":!0,onExporting:E,"show-indicator":!0,onCellPrepared:S,"repaint-changes-only":!0},{refreshTemplate:o(()=>[t(a(_),{icon:"refresh",onClick:k})]),operasyonTemplate:o(({data:r})=>[r.value==="1"||r.value===1?(i(),c("i",me)):(i(),c("i",ce))]),hurdaTemplate:o(({data:r})=>[r.value==="1"||r.value===1?(i(),c("i",de)):H("",!0)]),default:o(()=>[t(a(l),{"data-field":"ID",caption:"ID","data-type":"number",width:80,alignment:"center"}),t(a(l),{"data-field":"ISEMRIID",caption:"İŞ EMRİ ID",width:80,"data-type":"number"}),t(a(l),{"data-field":"URUNID","data-type":"number",caption:"URUN ID",visible:!0,width:80}),t(a(l),{"data-field":"BARKOD",caption:"BARKOD","data-type":"string",visible:!0,width:130,alignment:"center"}),t(a(l),{"data-field":"URETIMTARIH",caption:"ÜRT. TARİH","data-type":"date",width:150,visible:!0,alignment:"center",format:{formatter:r=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(r)).replace(/\//g,".")}},null,8,["format"]),t(a(l),{"data-field":"OPERASYON2",caption:"O2",visible:!0,width:90,"cell-template":"operasyonTemplate",alignment:"center"}),t(a(l),{"data-field":"OPERASYON3",caption:"O3",visible:!0,width:90,"cell-template":"operasyonTemplate",alignment:"center"}),t(a(l),{"data-field":"OPERASYON4",caption:"O4",visible:!0,width:90,"cell-template":"operasyonTemplate",alignment:"center"}),t(a(l),{"data-field":"OPERASYON5",caption:"O5",visible:!0,width:90,"cell-template":"operasyonTemplate",alignment:"center"}),t(a(l),{"data-field":"MAMULFINAL",caption:"FN",visible:!0,width:90,"cell-template":"operasyonTemplate",alignment:"center"}),t(a(l),{"data-field":"HURDA",caption:"HR",visible:!0,width:90,"cell-template":"hurdaTemplate",alignment:"center"}),t(a(l),{"data-field":"URUNKODU",caption:"ÜRÜN KODU","data-type":"string"}),t(a(l),{"data-field":"URUNADI",caption:"ÜRÜN ADI","data-type":"string"}),t(a(M),{visible:!1}),t(a(Y),{"auto-expand-all":C.value},null,8,["auto-expand-all"]),t(a(G),{visible:!0}),t(a(K),{enabled:!0}),t(a(L),{mode:"virtual","column-rendering-mode":"virtual"}),t(a(W),{visible:!0}),t(a(q),{position:O}),t(a(J),{visible:!0}),t(a(Q),{visible:!0,width:240,placeholder:"Ara..."}),t(a(X),{enabled:!0,"allow-export-selected-data":!0}),t(a(Z),{mode:"single"}),t(a($),{enabled:!0}),t(a(ee),{height:"540px",enabled:!0,title:"Sütun Seçici"},{default:o(()=>[t(a(te),{my:"right top",at:"right bottom",of:".dx-datagrid-column-chooser-button"}),t(a(ae),{enabled:!0}),t(a(le),{"allow-select-all":!0,"select-by-click":!0,recursive:!0})]),_:1}),t(a(re),{"calculate-custom-summary":P},{default:o(()=>[t(a(n),{column:"OPERASYON2","summary-type":"custom",name:"customTrueCount2","display-format":"{0}",alignment:"center"}),t(a(n),{column:"OPERASYON3","summary-type":"custom",name:"customTrueCount3","display-format":"{0}",alignment:"center"}),t(a(n),{column:"OPERASYON4","summary-type":"custom",name:"customTrueCount4","display-format":"{0}",alignment:"center"}),t(a(n),{column:"OPERASYON5","summary-type":"custom",name:"customTrueCount5","display-format":"{0}",alignment:"center"}),t(a(n),{column:"MAMULFINAL","summary-type":"custom",name:"customTrueCountF","display-format":"{0}",alignment:"center"}),t(a(n),{column:"HURDA","summary-type":"custom",name:"customTrueCountH","display-format":"{0}",alignment:"center"}),t(a(n),{column:"BARKOD","summary-type":"count","display-format":"{0} adet",alignment:"center"})]),_:1}),t(a(oe),null,{default:o(()=>[t(a(m),{location:"after",template:"refreshTemplate"}),t(a(m),{location:"after",name:"columnChooserButton"}),t(a(m),{location:"after",name:"exportButton"}),t(a(m),{location:"after",name:"searchPanel"})]),_:1})]),_:1},8,["data-source"])]),_:1}))}});export{Se as default};
