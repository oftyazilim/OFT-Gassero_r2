import{f as Le}from"./formatters-Bnv68_Nh.js";import{d as ie,r as $,o as u,g as R,f as t,b as e,e as l,n as a,aW as O,c as E,y as K,b4 as fe,t as h,ai as X,V as m,a as oe,w as be,$ as q,F as I,i as N,q as ve,v as g,j as xe,I as J,J as W,a$ as H,x as ee,b5 as Te,H as De}from"./main-CXefX_qh.js";import{C as me}from"./vue3-perfect-scrollbar-BT2Ou4oR.js";import{_ as ge}from"./TiptapEditor.vue_vue_type_style_index_0_lang-Db0amH31.js";import{V as G}from"./VSpacer-OtyVf5vj.js";import{a as Ae,V as Y}from"./VCard-pJfFDOSH.js";import{V as Q}from"./VTextField-CN3aek7z.js";import{V as F}from"./VDivider-B8BIZrEP.js";import{V as ye}from"./VChip-Dx4QNr20.js";import{$ as _e}from"./api-D8QFSLsW.js";import{V as B}from"./VTooltip-CSAAMC3w.js";import{V as te}from"./VMenu-DAf6uba2.js";import{V as ae,a as le,b as se}from"./VList-5j6JHPeN.js";import{V as $e}from"./VBadge-CrQldzvd.js";import{V as ke}from"./VAvatar-a73hCTk3.js";import{V as de}from"./VImg-Db788kHt.js";import{V as Z}from"./VCardText-BW9gFSa-.js";import{V as Ce}from"./VNavigationDrawer-Gg8dwJd6.js";import{u as Ie,V as Re,a as Ue}from"./VMain-D005wY8c.js";import{u as Be}from"./useApi-BhqtdETj.js";import{c as Ne}from"./createUrl-BDnH0n5U.js";import{V as he}from"./VCheckbox-j2Nzq_3x.js";import"./helpers-BGv4x_9E.js";import"./index-tTrxWxS7.js";import"./index-B7RlWG7x.js";/* empty css              *//* empty css                   */import"./VCounter-Cxc0KNa-.js";import"./index-DT3SyRRd.js";import"./VField-CeCYSswt.js";import"./form-ClP579eF.js";import"./easing-CjukEv2V.js";import"./VInput-BI9uJ0Ce.js";import"./forwardRefs-C-GTDzx5.js";import"./VSlideGroup-CNPi0L39.js";import"./index-9rIf2CJL.js";import"./VOverlay-E84Zkpn-.js";import"./delay-RGhQcOZ6.js";import"./lazy-CAMkS5e7.js";import"./scopeId-BgBx1Ex_.js";import"./dialog-transition-DjZpsU5U.js";import"./ssrBoot-BBXTmuIy.js";import"./VCheckboxBtn-CLjc42-a.js";import"./VSelectionControl-BoOcbjQs.js";const Fe={class:"d-flex align-center"},Pe=l("h5",{class:"text-h5"}," Compose Mail ",-1),Oe={class:"d-flex align-center gap-x-2"},je={class:"px-1 pe-6 py-1"},qe=l("div",{class:"text-base font-weight-medium text-disabled"}," To: ",-1),He={class:"cursor-pointer"},Je=l("span",null," | ",-1),We={key:0},Ge={class:"px-1 pe-6 py-1"},Ke=l("div",{class:"text-disabled font-weight-medium"}," Cc: ",-1),Qe={key:0},Xe={class:"px-1 pe-6 py-1"},Ye=l("div",{class:"text-disabled font-weight-medium"}," Bcc: ",-1),Ze={class:"px-1 pe-6 py-1"},et=l("div",{class:"text-base font-weight-medium text-disabled"}," Subject: ",-1),tt={class:"d-flex align-center px-6 py-4"},at=ie({__name:"ComposeDialog",emits:["close"],setup(L){const k=$(""),d=$(""),C=$(""),y=$(""),z=$(""),S=$(""),T=$(!1),n=$(!1),V=()=>{d.value=C.value=y.value=""};return(_,o)=>{const M=oe("IconBtn"),D=ge;return u(),R(Y,{class:"email-compose-dialog",elevation:"10","max-width":"30vw"},{default:t(()=>[e(Ae,{class:"py-3 px-6"},{default:t(()=>[l("div",Fe,[Pe,e(G),l("div",Oe,[e(M,{size:"small",icon:"tabler-minus",onClick:o[0]||(o[0]=r=>_.$emit("close"))}),e(M,{size:"small",icon:"tabler-x",onClick:o[1]||(o[1]=r=>{_.$emit("close"),V(),T.value=!1,n.value=!1})})])])]),_:1}),l("div",je,[e(Q,{modelValue:a(d),"onUpdate:modelValue":o[4]||(o[4]=r=>O(d)?d.value=r:null),density:"compact"},{"prepend-inner":t(()=>[qe]),append:t(()=>[l("span",He,[l("span",{onClick:o[2]||(o[2]=r=>T.value=!a(T))},"Cc"),Je,l("span",{onClick:o[3]||(o[3]=r=>n.value=!a(n))},"Bcc")])]),_:1},8,["modelValue"])]),e(fe,null,{default:t(()=>[a(T)?(u(),E("div",We,[e(F),l("div",Ge,[e(Q,{modelValue:a(z),"onUpdate:modelValue":o[5]||(o[5]=r=>O(z)?z.value=r:null),density:"compact"},{"prepend-inner":t(()=>[Ke]),_:1},8,["modelValue"])])])):K("",!0)]),_:1}),e(fe,null,{default:t(()=>[a(n)?(u(),E("div",Qe,[e(F),l("div",Xe,[e(Q,{modelValue:a(S),"onUpdate:modelValue":o[6]||(o[6]=r=>O(S)?S.value=r:null),density:"compact"},{"prepend-inner":t(()=>[Ye]),_:1},8,["modelValue"])])])):K("",!0)]),_:1}),e(F),l("div",Ze,[e(Q,{modelValue:a(C),"onUpdate:modelValue":o[7]||(o[7]=r=>O(C)?C.value=r:null),density:"compact"},{"prepend-inner":t(()=>[et]),_:1},8,["modelValue"])]),e(F),e(D,{modelValue:a(k),"onUpdate:modelValue":o[8]||(o[8]=r=>O(k)?k.value=r:null),placeholder:"Message"},null,8,["modelValue"]),l("div",tt,[e(X,{color:"primary",class:"me-4","append-icon":"tabler-send",disabled:a(d)==="",onClick:o[9]||(o[9]=r=>{_.$emit("close"),k.value="",V(),T.value=!1,n.value=!1})},{default:t(()=>[h(" send ")]),_:1},8,["disabled"]),e(M,{size:"small"},{default:t(()=>[e(m,{icon:"tabler-paperclip"})]),_:1}),e(G),e(M,{size:"small",class:"me-2"},{default:t(()=>[e(m,{icon:"tabler-dots-vertical"})]),_:1}),e(M,{size:"small",onClick:o[10]||(o[10]=r=>{_.$emit("close"),V(),k.value="",T.value=!1,n.value=!1})},{default:t(()=>[e(m,{icon:"tabler-trash"})]),_:1})])]),_:1})}}}),lt={class:"d-flex flex-column h-100"},st={class:"px-6 pb-5 pt-6"},it={class:"email-filters py-4"},ot=["href","onClick"],nt={class:"text-base"},rt={class:"email-labels py-4"},dt=l("div",{class:"text-caption text-disabled mb-4 px-6"}," LABELS ",-1),ct=["href","onClick"],mt={class:"text-body-1 text-high-emphasis"},pt=ie({inheritAttrs:!1,__name:"EmailLeftSidebarContent",props:{emailsMeta:{}},emits:["toggleComposeDialogVisibility"],setup(L){const k=L,d=$(0),C=$(0),y=$(0),z=$(0);be(()=>k.emailsMeta,n=>{n&&(d.value=n.inbox,C.value=n.draft,y.value=n.spam,z.value=n.star)},{immediate:!0,deep:!0});const S=q(()=>[{title:"Inbox",prependIcon:"tabler-mail",to:{name:"apps-email"},badge:{content:d.value,color:"primary"}},{title:"Sent",prependIcon:"tabler-send",to:{name:"apps-email-filter",params:{filter:"sent"}}},{title:"Draft",prependIcon:"tabler-edit",to:{name:"apps-email-filter",params:{filter:"draft"}},badge:{content:C.value,color:"warning"}},{title:"Starred",prependIcon:"tabler-star",to:{name:"apps-email-filter",params:{filter:"starred"}},badge:{content:z.value,color:"success"}},{title:"Spam",prependIcon:"tabler-alert-circle",to:{name:"apps-email-filter",params:{filter:"spam"}},badge:{content:y.value,color:"error"}},{title:"Trash",prependIcon:"tabler-trash",to:{name:"apps-email-filter",params:{filter:"trashed"}}}]),T=[{title:"Personal",color:"success",to:{name:"apps-email-label",params:{label:"personal"}}},{title:"Company",color:"primary",to:{name:"apps-email-label",params:{label:"company"}}},{title:"Important",color:"warning",to:{name:"apps-email-label",params:{label:"important"}}},{title:"Private",color:"error",to:{name:"apps-email-label",params:{label:"private"}}}];return(n,V)=>{const _=oe("RouterLink");return u(),E("div",lt,[l("div",st,[e(X,{block:"",onClick:V[0]||(V[0]=o=>n.$emit("toggleComposeDialogVisibility"))},{default:t(()=>[h(" Compose ")]),_:1})]),e(a(me),{options:{wheelPropagation:!1},class:"h-100"},{default:t(()=>[l("ul",it,[(u(!0),E(I,null,N(a(S),o=>(u(),R(_,{key:o.title,class:"d-flex align-center cursor-pointer align-center",to:o.to,custom:""},{default:t(({isActive:M,href:D,navigate:r})=>{var b;return[l("li",ve({ref_for:!0},n.$attrs,{href:D,class:[M&&"email-filter-active text-primary","d-flex align-center cursor-pointer"],onClick:r}),[e(m,{icon:o.prependIcon,class:"me-2",size:"20"},null,8,["icon"]),l("div",nt,g(o.title),1),e(G),(b=o.badge)!=null&&b.content?(u(),R(ye,{key:0,color:o.badge.color,label:"",size:"small",class:"rounded-xl px-3"},{default:t(()=>{var f;return[h(g((f=o.badge)==null?void 0:f.content),1)]}),_:2},1032,["color"])):K("",!0)],16,ot)]}),_:2},1032,["to"]))),128))]),l("ul",rt,[dt,(u(),E(I,null,N(T,o=>e(_,{key:o.title,class:"d-flex align-center",to:o.to,custom:""},{default:t(({isActive:M,href:D,navigate:r})=>[l("li",ve({ref_for:!0},n.$attrs,{href:D,class:[M&&"email-label-active text-primary","cursor-pointer d-flex align-center"],onClick:r}),[e(m,{icon:"tabler-circle-filled",color:o.color,class:"me-2",size:"12"},null,8,["color"]),l("div",mt,g(o.title),1)],16,ct)]),_:2},1032,["to"])),64))])]),_:1})])}}}),ce=()=>{const L=xe(),k=async(n,V)=>{await _e("apps/email",{method:"POST",body:JSON.stringify({ids:n,data:V})})};return{labels:[{title:"personal",color:"success"},{title:"company",color:"primary"},{title:"important",color:"warning"},{title:"private",color:"error"}],resolveLabelColor:n=>n==="personal"?"success":n==="company"?"primary":n==="important"?"warning":n==="private"?"error":"secondary",shallShowMoveToActionFor:n=>n==="trash"?L.params.filter!=="trashed":n==="inbox"?!(L.params.filter===void 0||L.params.filter==="sent"||L.params.filter==="draft"):n==="spam"?!(L.params.filter==="spam"||L.params.filter==="sent"||L.params.filter==="draft"):!1,emailMoveToFolderActions:[{action:"inbox",icon:"tabler-mail"},{action:"spam",icon:"tabler-alert-octagon"},{action:"trash",icon:"tabler-trash"}],moveSelectedEmailTo:async(n,V)=>{const _={};n==="inbox"?(L.params.filter==="trashed"&&(_.isDeleted=!1),_.folder="inbox"):n==="spam"?(L.params.filter==="trashed"&&(_.isDeleted=!1),_.folder="spam"):n==="trash"&&(_.isDeleted=!0),await k(V,_)},updateEmails:k,updateEmailLabels:async(n,V)=>{await _e("/apps/email",{method:"POST",body:{ids:n,label:V}})}}},ut={class:"email-view-header d-flex align-center px-5 py-3"},ft={class:"d-flex align-center flex-wrap flex-grow-1 overflow-hidden gap-2"},vt={class:"text-body-1 text-high-emphasis text-truncate"},_t={class:"d-flex flex-wrap gap-2"},ht={class:"d-flex align-center"},bt={class:"email-view-action-bar d-flex align-center text-medium-emphasis px-6 gap-x-1"},xt={class:"d-flex align-center gap-x-1"},gt={class:"d-flex align-start align-sm-center pa-6 gap-x-4"},yt={class:"d-flex flex-wrap flex-grow-1 overflow-hidden"},$t={class:"text-truncate"},kt={class:"text-body-1 text-high-emphasis text-truncate"},Ct={class:"text-sm"},Vt={class:"d-flex align-center gap-x-4"},wt={class:"text-disabled text-base"},Et={class:"text-body-1 font-weight-medium text-truncate mb-4"},zt=["innerHTML"],St=l("span",null,"2 Attachments",-1),Mt={class:"text-base"},Lt=l("span",{class:"text-primary cursor-pointer"}," Forward ",-1),Tt={class:"text-h6 mb-6"},Dt={class:"d-flex justify-end gap-4 pt-2 flex-wrap"},At=ie({__name:"EmailView",props:{email:{},emailMeta:{}},emits:["refresh","navigated","close","trash","unread","read","star","unstar"],setup(L,{emit:k}){const d=L,C=k,y=$(""),z=$(!1),S=$(!0),{updateEmailLabels:T}=ce(),{labels:n,resolveLabelColor:V,emailMoveToFolderActions:_,shallShowMoveToActionFor:o,moveSelectedEmailTo:M}=ce(),D=async b=>{await M(b,[d.email.id]),C("refresh"),C("close")},r=async b=>{await T([d.email.id],b),C("refresh")};return(b,f)=>{const v=oe("IconBtn"),ne=ge;return u(),R(Ce,{temporary:"","model-value":!!d.email,location:"right",scrim:!1,floating:"",class:"email-view"},{default:t(()=>[d.email?(u(),E(I,{key:0},[l("div",ut,[e(v,{class:"me-2",onClick:f[0]||(f[0]=p=>{b.$emit("close"),z.value=!1,S.value=!0,y.value=""})},{default:t(()=>[e(m,{size:"22",icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1}),l("div",ft,[l("div",vt,g(d.email.subject),1),l("div",_t,[(u(!0),E(I,null,N(d.email.labels,p=>(u(),R(ye,{key:p,color:a(V)(p),class:"text-capitalize flex-shrink-0",size:"small",label:!1},{default:t(()=>[h(g(p),1)]),_:2},1032,["color"]))),128))])]),l("div",null,[l("div",ht,[e(v,{disabled:!d.emailMeta.hasPreviousEmail,onClick:f[1]||(f[1]=p=>b.$emit("navigated","previous"))},{default:t(()=>[e(m,{icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1},8,["disabled"]),e(v,{disabled:!d.emailMeta.hasNextEmail,onClick:f[2]||(f[2]=p=>b.$emit("navigated","next"))},{default:t(()=>[e(m,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:1},8,["disabled"])])])]),e(F),l("div",bt,[J(e(v,{onClick:f[3]||(f[3]=p=>{b.$emit("trash"),b.$emit("close")})},{default:t(()=>[e(m,{icon:"tabler-trash",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:1},512),[[W,!d.email.isDeleted]]),e(v,{onClick:f[4]||(f[4]=H(p=>{b.$emit("unread"),b.$emit("close")},["stop"]))},{default:t(()=>[e(m,{icon:"tabler-mail",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Mark as Unread ")]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(m,{icon:"tabler-folder",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Move to ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),E(I,null,N(a(_),p=>(u(),R(le,{key:p.title,class:ee([a(o)(p.action)?"d-flex":"d-none","align-center"]),href:"#",onClick:U=>D(p.action)},{prepend:t(()=>[e(m,{icon:p.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(se,{class:"text-capitalize"},{default:t(()=>[h(g(p.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(m,{icon:"tabler-tag",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Label ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),E(I,null,N(a(n),p=>(u(),R(le,{key:p.title,href:"#",onClick:H(U=>r(p.title),["stop"])},{prepend:t(()=>[e($e,{inline:"",color:a(V)(p.title),dot:""},null,8,["color"])]),default:t(()=>[e(se,{class:"ms-2 text-capitalize"},{default:t(()=>[h(g(p.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(G),l("div",xt,[e(v,{color:d.email.isStarred?"warning":"default",onClick:f[5]||(f[5]=p=>{var U;(U=d.email)!=null&&U.isStarred?b.$emit("unstar"):b.$emit("star"),b.$emit("refresh")})},{default:t(()=>[e(m,{icon:"tabler-star"})]),_:1},8,["color"]),e(v,null,{default:t(()=>[e(m,{icon:"tabler-dots-vertical"})]),_:1})])]),e(F),e(a(me),{tag:"div",class:"mail-content-container flex-grow-1 pa-sm-12 pa-6",options:{wheelPropagation:!1}},{default:t(()=>[e(Y,{class:"mb-4"},{default:t(()=>[l("div",gt,[e(ke,{size:"38"},{default:t(()=>[e(de,{src:d.email.from.avatar,alt:d.email.from.name},null,8,["src","alt"])]),_:1}),l("div",yt,[l("div",$t,[l("div",kt,g(d.email.from.name),1),l("div",Ct,g(d.email.from.email),1)]),e(G),l("div",Vt,[l("div",wt,g(new Date(d.email.time).toDateString()),1),l("div",null,[J(e(v,null,{default:t(()=>[e(m,{icon:"tabler-paperclip",size:"22"})]),_:1},512),[[W,d.email.attachments.length]]),e(v,null,{default:t(()=>[e(m,{icon:"tabler-dots-vertical",size:"22"})]),_:1})])])])]),e(F),e(Z,null,{default:t(()=>[l("div",Et,g(d.email.from.name)+", ",1),l("div",{class:"text-base",innerHTML:d.email.message},null,8,zt)]),_:1}),d.email.attachments.length?(u(),E(I,{key:0},[e(F),e(Z,{class:"d-flex flex-column gap-y-4 pt-4"},{default:t(()=>[St,(u(!0),E(I,null,N(d.email.attachments,p=>(u(),E("div",{key:p.fileName,class:"d-flex align-center"},[e(de,{src:p.thumbnail,alt:p.fileName,"aspect-ratio":"1","max-height":"24","max-width":"24",class:"me-2"},null,8,["src","alt"]),l("span",null,g(p.fileName),1)]))),128))]),_:1})],64)):K("",!0)]),_:1}),J(e(Y,null,{default:t(()=>[e(Z,{class:"font-weight-medium text-high-emphasis"},{default:t(()=>[l("div",Mt,[h(" Click here to "),l("span",{class:"text-primary cursor-pointer",onClick:f[6]||(f[6]=p=>{z.value=!a(z),S.value=!a(S)})}," Reply "),h(" or "),Lt])]),_:1})]),_:1},512),[[W,a(S)]]),a(z)?(u(),R(Y,{key:0},{default:t(()=>[e(Z,null,{default:t(()=>{var p;return[l("h6",Tt," Reply to "+g((p=b.email)==null?void 0:p.from.name),1),e(ne,{modelValue:a(y),"onUpdate:modelValue":f[7]||(f[7]=U=>O(y)?y.value=U:null),placeholder:"Write your message..."},null,8,["modelValue"]),l("div",Dt,[e(X,{icon:"",variant:"text",color:"secondary",onClick:f[8]||(f[8]=U=>{z.value=!a(z),S.value=!a(S),y.value=""})},{default:t(()=>[e(m,{icon:"tabler-trash"})]),_:1}),e(X,{variant:"text",color:"secondary"},{prepend:t(()=>[e(m,{icon:"tabler-paperclip",class:"text-high-emphasis",size:"16"})]),default:t(()=>[h(" Attachments ")]),_:1}),e(X,{"append-icon":"tabler-send"},{default:t(()=>[h(" Send ")]),_:1})])]}),_:1})]),_:1})):K("",!0)]),_:1})],64)):K("",!0)]),_:1},8,["model-value"])}}}),It={class:"d-flex align-center"},Rt={class:"py-2 px-4 d-flex align-center d-flex gap-x-1"},Ut=["onClick"],Bt={class:"text-h6"},Nt={class:"text-body-2 truncate"},Ft={class:"text-sm text-disabled"},Pt={class:"email-actions d-none"},Ot={class:"py-4 px-5 text-center"},jt=l("span",{class:"text-high-emphasis"},"No items found.",-1),qt=[jt],Ia=ie({__name:"index",async setup(L){let k,d;const{isLeftSidebarOpen:C}=Ie(),y=xe(),{labels:z,resolveLabelColor:S,emailMoveToFolderActions:T,shallShowMoveToActionFor:n,moveSelectedEmailTo:V,updateEmails:_,updateEmailLabels:o}=ce(),M=$(!1),D=$(""),r=$([]),{data:b,execute:f}=([k,d]=Te(()=>Be(Ne("/apps/email",{query:{q:D,filter:()=>"filter"in y.params?y.params.filter:void 0,label:()=>"label"in y.params?y.params.label:void 0}}))),k=await k,d(),k),v=q(()=>b.value.emails),ne=q(()=>b.value.emailsMeta),p=c=>{const i=r.value.indexOf(c);i===-1?r.value.push(c):r.value.splice(i,1)},U=q(()=>v.value.length&&v.value.length===r.value.length),pe=q(()=>!!r.value.length&&v.value.length!==r.value.length),re=q(()=>r.value.every(c=>{var i;return(i=v.value.find(w=>w.id===c))==null?void 0:i.isRead})),Ve=()=>{r.value=U.value?[]:v.value.map(c=>c.id)},x=$(null),we=q(()=>{const c={hasNextEmail:!1,hasPreviousEmail:!1};if(x.value){const i=v.value.findIndex(w=>{var s;return w.id===((s=x.value)==null?void 0:s.id)});c.hasNextEmail=!!v.value[i+1],c.hasPreviousEmail=!!v.value[i-1]}return c}),ue=async()=>{await f(),x.value&&(x.value=v.value.find(c=>{var i;return c.id===((i=x.value)==null?void 0:i.id)}))},A=async(c,i=r.value)=>{r.value=[],r.value=[],i.length&&(c==="trash"?await _(i,{isDeleted:!0}):c==="spam"?await _(i,{folder:"spam"}):c==="unread"?await _(i,{isRead:!1}):c==="read"?await _(i,{isRead:!0}):c==="star"?await _(i,{isStarred:!0}):c==="unstar"&&await _(i,{isStarred:!1}),x.value?ue():await f())},Ee=async c=>{await V(c,r.value),await f()},ze=async c=>{await o(r.value,c),await f()},Se=c=>{if(!x.value)return;const i=v.value.findIndex(s=>{var j;return s.id===((j=x.value)==null?void 0:j.id)}),w=c==="previous"?i-1:i+1;x.value=v.value[w]},Me=async c=>{x.value=c,await A("read",[c.id])};return be(()=>y.params,()=>{r.value=[]},{deep:!0}),(c,i)=>{const w=oe("IconBtn");return u(),R(Ue,{style:{"z-index":"0","min-block-size":"100%"},class:"email-app-layout"},{default:t(()=>[e(Ce,{modelValue:a(C),"onUpdate:modelValue":i[1]||(i[1]=s=>O(C)?C.value=s:null),absolute:"",touchless:"",location:"start",temporary:c.$vuetify.display.mdAndDown},{default:t(()=>[e(pt,{"emails-meta":a(ne),onToggleComposeDialogVisibility:i[0]||(i[0]=s=>M.value=!a(M))},null,8,["emails-meta"])]),_:1},8,["modelValue","temporary"]),e(At,{email:a(x),"email-meta":a(we),onRefresh:ue,onNavigated:Se,onClose:i[2]||(i[2]=s=>x.value=null),onTrash:i[3]||(i[3]=s=>A("trash",a(x)?[a(x).id]:[])),onUnread:i[4]||(i[4]=s=>A("unread",a(x)?[a(x).id]:[])),onStar:i[5]||(i[5]=s=>A("star",a(x)?[a(x).id]:[])),onUnstar:i[6]||(i[6]=s=>A("unstar",a(x)?[a(x).id]:[]))},null,8,["email","email-meta"]),e(Re,null,{default:t(()=>[e(Y,{flat:"",class:"email-content-list h-100 d-flex flex-column"},{default:t(()=>[l("div",It,[e(w,{class:"d-lg-none ms-3",onClick:i[7]||(i[7]=s=>C.value=!0)},{default:t(()=>[e(m,{icon:"tabler-menu-2"})]),_:1}),e(Q,{modelValue:a(D),"onUpdate:modelValue":i[8]||(i[8]=s=>O(D)?D.value=s:null),density:"default",class:"email-search px-sm-2 flex-grow-1 py-1",placeholder:"Search mail"},{"prepend-inner":t(()=>[e(m,{icon:"tabler-search",size:"24",class:"me-1 text-medium-emphasis"})]),_:1},8,["modelValue"])]),e(F),l("div",Rt,[e(he,{"model-value":a(U),indeterminate:a(pe),class:"d-flex","onUpdate:modelValue":Ve},null,8,["model-value","indeterminate"]),l("div",{class:"w-100 d-flex align-center action-bar-actions gap-x-1",style:De({visibility:a(pe)||a(U)?void 0:"hidden"})},[J(e(w,{onClick:i[9]||(i[9]=s=>A("trash"))},{default:t(()=>[e(m,{icon:"tabler-trash",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:1},512),[[W,"filter"in a(y).params?a(y).params.filter!=="trashed":!0]]),e(w,{onClick:i[10]||(i[10]=s=>a(re)?A("unread"):A("read"))},{default:t(()=>[e(m,{icon:a(re)?"tabler-mail":"tabler-mail-opened",size:"22"},null,8,["icon"]),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(g(a(re)?"Mark as Unread":"Mark as Read"),1)]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(m,{icon:"tabler-folder",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Folder ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),E(I,null,N(a(T),s=>(u(),R(le,{key:s.title,class:ee([a(n)(s.action)?"d-flex":"d-none","items-center"]),href:"#",onClick:j=>Ee(s.action)},{prepend:t(()=>[e(m,{icon:s.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(se,{class:"text-capitalize"},{default:t(()=>[h(g(s.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(m,{icon:"tabler-tag",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Label ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),E(I,null,N(a(z),s=>(u(),R(le,{key:s.title,href:"#",onClick:j=>ze(s.title)},{prepend:t(()=>[e($e,{inline:"",color:a(S)(s.title),dot:""},null,8,["color"])]),default:t(()=>[e(se,{class:"ms-2 text-capitalize"},{default:t(()=>[h(g(s.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})],4),e(G),e(w,{onClick:a(f)},{default:t(()=>[e(m,{icon:"tabler-refresh",size:"22"})]),_:1},8,["onClick"]),e(w,null,{default:t(()=>[e(m,{icon:"tabler-dots-vertical",size:"22"})]),_:1})]),e(F),e(a(me),{tag:"ul",options:{wheelPropagation:!1},class:"email-list"},{default:t(()=>[(u(!0),E(I,null,N(a(v),s=>{var j;return J((u(),E("li",{key:s.id,class:ee(["email-item d-flex align-center pa-4 gap-2 cursor-pointer",[{"email-read":s.isRead}]]),onClick:P=>Me(s)},[e(he,{"model-value":a(r).includes(s.id),class:"flex-shrink-0","onUpdate:modelValue":P=>p(s.id),onClick:i[11]||(i[11]=H(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"]),e(w,{color:s.isStarred?"warning":"default",onClick:H(P=>A(s.isStarred?"unstar":"star",[s.id]),["stop"])},{default:t(()=>[e(m,{icon:"tabler-star",size:"22"})]),_:2},1032,["color","onClick"]),e(ke,{size:"32"},{default:t(()=>[e(de,{src:s.from.avatar,alt:s.from.name},null,8,["src","alt"])]),_:2},1024),l("h6",Bt,g(s.from.name),1),l("span",Nt,g(s.subject),1),e(G),l("div",{class:ee(["email-meta align-center gap-2",c.$vuetify.display.xs?"d-none":""])},[(u(!0),E(I,null,N(s.labels,P=>(u(),R(m,{key:P,icon:"tabler-circle-filled",size:"10",color:a(S)(P)},null,8,["color"]))),128)),l("span",Ft,g(("formatDateToMonthShort"in c?c.formatDateToMonthShort:a(Le))(s.time)),1)],2),l("div",Pt,[e(w,{onClick:H(P=>A("trash",[s.id]),["stop"])},{default:t(()=>[e(m,{icon:"tabler-trash",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:2},1032,["onClick"]),e(w,{class:"mx-2",onClick:H(P=>A(s.isRead?"unread":"read",[s.id]),["stop"])},{default:t(()=>[e(m,{icon:s.isRead?"tabler-mail":"tabler-mail-opened",size:"22"},null,8,["icon"]),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(g(s.isRead?"Mark as Unread":"Mark as Read"),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(w,{onClick:H(P=>A("spam",[s.id]),["stop"])},{default:t(()=>[e(m,{icon:"tabler-info-circle",size:"22"}),e(B,{activator:"parent",location:"top"},{default:t(()=>[h(" Move to Spam ")]),_:1})]),_:2},1032,["onClick"])])],10,Ut)),[[W,(j=a(v))==null?void 0:j.length]])}),128)),J(l("li",Ot,qt,512),[[W,!a(v).length]])]),_:1})]),_:1}),J(e(at,{onClose:i[12]||(i[12]=s=>M.value=!1)},null,512),[[W,a(M)]])]),_:1})]),_:1})}}});export{Ia as default};
