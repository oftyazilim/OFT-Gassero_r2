import{_ as te}from"./AppSelect.vue_vue_type_script_setup_true_lang-UIB--c0H.js";import{_ as oe}from"./AppTextField.vue_vue_type_script_setup_true_lang-B67lS2wl.js";import{_ as le}from"./AddNewUserDrawer.vue_vue_type_script_setup_true_lang-CaheMLNz.js";import{a as ae}from"./axios-CCb-kr4I.js";import{S as x}from"./sweetalert2.esm.all-D3pEHXw3.js";import{u as re}from"./useApi-BhqtdETj.js";import{$ as se}from"./api-D8QFSLsW.js";import{V as N}from"./VCardText-BW9gFSa-.js";import{V as ie}from"./VSpacer-OtyVf5vj.js";import{d as ne,r,E as me,b5 as ue,$ as g,o as d,c as f,e as i,b as t,f as l,n as a,ai as _,t as n,v as w,F as y,i as I,g as de,V as L,a as P}from"./main-CXefX_qh.js";import{V as ce}from"./VDivider-B8BIZrEP.js";import{V as pe}from"./VDataTableServer-jZAKkkno.js";import{V as fe}from"./VChip-Dx4QNr20.js";import{V as z,b as _e,d as ve}from"./VCard-pJfFDOSH.js";import{V as F}from"./VTextField-CN3aek7z.js";import{V as K}from"./VCol-Dzvr-cnK.js";import{V as Ve}from"./VDialog-Cm1FNAkS.js";import"./form-ClP579eF.js";import"./VSelect-BSocyXX7.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-5j6JHPeN.js";import"./ssrBoot-BBXTmuIy.js";import"./index-DT3SyRRd.js";import"./VAvatar-a73hCTk3.js";import"./VImg-Db788kHt.js";import"./dialog-transition-DjZpsU5U.js";import"./easing-CjukEv2V.js";import"./VMenu-DAf6uba2.js";import"./VOverlay-E84Zkpn-.js";import"./delay-RGhQcOZ6.js";import"./lazy-CAMkS5e7.js";import"./scopeId-BgBx1Ex_.js";import"./VCheckboxBtn-CLjc42-a.js";import"./VSelectionControl-BoOcbjQs.js";import"./validators-BJEf8OaU.js";import"./helpers-BGv4x_9E.js";import"./VForm-CD_GLPlO.js";import"./VRow-qTTVFZ4i.js";/* empty css              */import"./index-9rIf2CJL.js";import"./VDataTable-BED9s8g-.js";import"./VPagination-edzMs2Cf.js";import"./VTable-B3TJP9Kw.js";import"./filter-B7NDRcyz.js";import"./VSlideGroup-CNPi0L39.js";/* empty css                   */import"./VCounter-Cxc0KNa-.js";import"./VField-CeCYSswt.js";import"./VInput-BI9uJ0Ce.js";const xe=i("div",{class:"d-flex gap-2 align-center"},null,-1),ge={class:"d-flex align-center flex-wrap gap-4"},we={class:"d-flex flex-column"},ye={class:"text-base"},ke={class:"d-flex flex-column"},Ce={class:"text-base"},he={class:"d-flex gap-2"},be={class:"d-flex flex-column gap-4"},De={class:"d-flex flex-wrap gap-2"},Ue=["onClick"],ht=ne({__name:"kullanicilar copy 2",async setup(Ae){let c,k;const C={SuperAdmin:{color:"info",text:"SuperAdmin"},all:{color:"success",text:"all"},admin:{color:"success",text:"admin"},writer:{color:"warning",text:"writer"},Editor:{color:"primary",text:"Editor"},"restricted-user":{color:"error",text:"Restricted User"}},O=async()=>{try{const s=await ae.get("/api/roles");U.value=s.data}catch(s){console.error("Roller alınamadı:",s)}};r(""),r(""),r(""),r([]);const h=r(""),b=r(10),D=r(1),v=r(!1),M=s=>{},U=r([]),Q=r([]),A=r(null);me(()=>{O()});const Y=[{title:"ID",key:"id"},{title:"Name",key:"name"},{title:"Email",key:"email"},{title:"Roles",key:"roles"},{title:"Actions",key:"actions"}],m=r({id:0,name:"",email:"",role:[]}),{data:E,execute:j}=([c,k]=ue(()=>re("/kullanicilar")),c=await c,k(),c),q=g(()=>E.value.users),G=g(()=>E.value.totalUsers),p=r(!1),H=()=>{p.value=!0},J=()=>{console.log("Saved user data:",m.value),B()},B=()=>{v.value=!1},W=async s=>{if((await x.fire({title:"Are you sure?",text:"Do you want to delete this user?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await se(`/users/${s}`,{method:"DELETE"}),j(),x.fire("Deleted!","The user has been deleted.","success")}catch(V){console.error("Error deleting user:",V),x.fire("Error!","There was a problem deleting the user.","error")}};r(null);const X=g(s=>{const o=m.value||{};return{userId:o.id||0,userName:o.name||"",userEmail:o.email||"",userRoles:[]}});return(s,o)=>{const V=oe,R=P("RouterLink"),S=P("IconBtn"),Z=te;return d(),f(y,null,[i("section",null,[t(a(z),null,{default:l(()=>[t(a(N),{class:"d-flex flex-wrap gap-4"},{default:l(()=>[xe,t(a(ie)),i("div",ge,[t(V,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=e=>h.value=e),placeholder:"Search User",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(a(_),{color:"primary",onClick:H,class:"ml-4"},{default:l(()=>[n(" + Kullanıcı Ekle ")]),_:1})])]),_:1}),t(a(ce)),t(a(pe),{"items-per-page":b.value,"onUpdate:itemsPerPage":o[1]||(o[1]=e=>b.value=e),page:D.value,"onUpdate:page":o[2]||(o[2]=e=>D.value=e),items:q.value,"items-length":G.value,headers:Y,class:"text-no-wrap","onUpdate:options":M},{"item.name":l(({item:e})=>[i("div",we,[i("h6",ye,[t(R,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:l(()=>[n(w(e.name),1)]),_:2},1032,["to"])])])]),"item.roles":l(({item:e})=>[i("div",ke,[i("h6",Ce,[t(R,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:l(()=>[i("div",he,[(d(!0),f(y,null,I(e.roles.split("|"),(u,ee)=>{var T;return d(),de(fe,{key:ee,label:"",size:"small",color:((T=C[u.trim()])==null?void 0:T.color)||"default",class:"font-weight-medium"},{default:l(()=>{var $;return[n(w((($=C[u.trim()])==null?void 0:$.text)||u.trim()),1)]}),_:2},1032,["color"])}),128))])]),_:2},1032,["to"])])])]),"item.actions":l(({item:e})=>[t(S,{onClick:u=>W(e.id),style:{color:"red !important"}},{default:l(()=>[t(L,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),t(S,{style:{color:"blue !important"},onClick:p.value},{default:l(()=>[t(L,{icon:"tabler-eye"})]),_:1},8,["onClick"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(le,{isDrawerOpen:p.value,"onUpdate:isDrawerOpen":o[3]||(o[3]=e=>p.value=e),cardDetails:X.value},null,8,["isDrawerOpen","cardDetails"])]),t(a(Ve),{modelValue:v.value,"onUpdate:modelValue":o[7]||(o[7]=e=>v.value=e),"max-width":"600px"},{default:l(()=>[t(a(z),null,{default:l(()=>[t(a(_e),null,{default:l(()=>[n(" Kullanıcı Bilgileri ")]),_:1}),t(a(N),null,{default:l(()=>[i("div",be,[t(a(F),{label:"Kullanıcı Adı",modelValue:m.value.name,"onUpdate:modelValue":o[4]||(o[4]=e=>m.value.name=e),class:"my-2"},null,8,["modelValue"]),t(a(F),{label:"Email",modelValue:m.value.email,"onUpdate:modelValue":o[5]||(o[5]=e=>m.value.email=e),class:"my-2"},null,8,["modelValue"]),t(Z,{modelValue:A.value,"onUpdate:modelValue":o[6]||(o[6]=e=>A.value=e),label:"Rol",placeholder:"Rol Seçiniz...",items:U.value,"item-text":"name","item-value":"name"},null,8,["modelValue","items"]),t(a(K),{cols:"12",class:"text-center mt-3"},{default:l(()=>[t(a(_),{color:"primary",onClick:s.rolAta},{default:l(()=>[n("Rol Ata")]),_:1},8,["onClick"])]),_:1}),t(a(K),{cols:"12",class:"mt-3"},{default:l(()=>[i("div",De,[(d(!0),f(y,null,I(Q.value,e=>(d(),f("div",{key:e,class:"bg-danger text-white px-3 py-2 rounded-pill cursor-pointer",onClick:u=>s.rolSil(e)},w(e),9,Ue))),128))])]),_:1})])]),_:1}),t(a(ve),null,{default:l(()=>[t(a(_),{onClick:B},{default:l(()=>[n("Vazgeç")]),_:1}),t(a(_),{onClick:J,color:"primary"},{default:l(()=>[n("Kaydet")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{ht as default};
