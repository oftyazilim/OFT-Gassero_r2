import{a as l,f as D,g as E,h as _,i as S,j as C,c as R,k as T,l as P,m as A,n as K,o as O,D as B}from"./data-grid-bcHRWDWG.js";import{a as s}from"./axios-CCb-kr4I.js";import{D as F,n as I,e as M,a as N,s as $}from"./FileSaver-DOHanaSG.js";import{d as q,r as f,E as U,o as Y,c as j,b as a,n as t,f as d}from"./main-C8N3ebfR.js";import{u as G}from"./pageTitle-DZX-JdGE.js";import"./extends-CF3RwP-h.js";import"./_commonjsHelpers-BosuxZz1.js";const H={class:"mb-4"},c="/api/kullanicilar",ee=q({__name:"kullanicilar",setup(L){const u=G();u.setTitle("Kullanıcılar"),u.setToplam(""),document.title="OFT - Kullanıcılar";const p=f([]),m=f([]),w=e=>{h(e)},x=e=>{b(e)},g={placeholder:"Sütun ara"},n=async()=>{try{const e=await s.get(c);p.value=e.data.data,m.value=e.data.kademeler}catch(e){console.error("Error fetching data:",e),I("Kullanıcılar verisi alınamadı","error",1500)}finally{}},h=e=>{e.promise=new Promise(async(r,i)=>{try{const o={...e.oldData,...e.newData};await s.put(`${c}/${e.key}`,o),await n(),e.component.cancelEditData(),r()}catch(o){console.error("Error updating data:",o),i()}})},b=e=>{e.promise=new Promise(async(r,i)=>{try{await s.delete(`${c}/${e.key}`),await n(),e.component.cancelEditData(),r()}catch(o){console.error("Error deleting data:",o),i()}})};U(n);const k=[{text:"Yenile"}];function v({itemData:e}){if(!(e!=null&&e.items))switch(e==null?void 0:e.text){case"Yenile":n();break}}const y=e=>{const r=new M.Workbook,i=r.addWorksheet("Kullanicilar");N({component:e.component,worksheet:i,autoFilterEnabled:!0}).then(()=>{r.xlsx.writeBuffer().then(o=>{$(new Blob([o],{type:"application/octet-stream"}),"Kullanicilar.xlsx")})}),e.cancel=!0};return(e,r)=>(Y(),j("div",H,[a(t(F),{"data-source":k,width:200,target:"#grid-users",onItemClick:v}),a(t(B),{id:"grid-users","data-source":t(p),"key-expr":"id","show-borders":!0,onRowUpdating:w,onRowRemoving:x,"row-alternation-enabled":!0,onExporting:y},{default:d(()=>[a(t(l),{"data-field":"id",caption:"ID","allow-editing":!1,visible:!1}),a(t(l),{"data-field":"name",caption:"İSİM","allow-editing":!0,visible:!0,"validation-rules":[{type:"required"}]}),a(t(l),{"data-field":"email",caption:"E-POSTA","allow-editing":!1,visible:!0}),a(t(l),{"data-field":"email_verified_at",caption:"ONAY TARİHİ","data-type":"date","allow-editing":!1,width:150,visible:!0,format:{formatter:i=>new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(i)).replace(/\//g,".")}},null,8,["format"]),a(t(l),{"data-field":"unvan",caption:"ÜNVAN","validation-rules":[{type:"required"}]}),a(t(l),{"data-field":"proses",caption:"PROSES"}),a(t(l),{"data-field":"tip",caption:"KADEME","validation-rules":[{type:"required"}]},{default:d(()=>[a(t(D),{"data-source":t(m),"display-expr":"tip","value-expr":"tip"},null,8,["data-source"])]),_:1}),a(t(E),{"allow-updating":!0,"allow-adding":!1,"allow-deleting":!0,mode:"row","use-icons":!0}),a(t(_),{visible:!0}),a(t(S),{visible:!0,width:240,placeholder:"Ara..."}),a(t(C),{enabled:!0}),a(t(R),{mode:"virtual"}),a(t(T),{enabled:!0,"allow-export-selected-data":!1}),a(t(P),{height:"540px",enabled:!0,mode:"select",title:"Sütun Seçici"},{default:d(()=>[a(t(A),{my:"right top",at:"right bottom",of:".dx-datagrid-column-chooser-button"}),a(t(K),{enabled:!0,"editor-options":g}),a(t(O),{"allow-select-all":!0,"select-by-click":!0,recursive:!0})]),_:1})]),_:1},8,["data-source"])]))}});export{ee as default};
