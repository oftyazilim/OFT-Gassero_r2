import{d as be,r as l,E as he,ba as we,o as w,g as ge,f as a,b as e,a$ as C,ai as pe,t as ve,e as u,b2 as Re,$ as Se,bb as xe,w as Ee,c as T,n as t,H as J,v as k,T as fe,F as ke,j as Ae,a as Ne,P as Oe,Q as Ue}from"./main-C8N3ebfR.js";import{D as j,a as Q,b as D,c as y,d as Te,e as Ve}from"./buton-mavi1-B6R0bL8k.js";import{u as Me}from"./pageTitle-DZX-JdGE.js";import{D as q,a as i,b as W,c as X}from"./data-grid-bcHRWDWG.js";import{b as Pe,a as Be}from"./buton-kirmizi1-CZnC_3my.js";import{a as M}from"./axios-CCb-kr4I.js";import{_ as Ke}from"./AppSelect.vue_vue_type_script_setup_true_lang-DD8YZFsO.js";import{_ as je}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-FsMzl0xv.js";import{V as Ce}from"./VCardText-ARgIvpol.js";import{V as Le}from"./VForm-fzztflmy.js";import{V,a as v}from"./VRow-Z9fbV_da.js";import{V as p}from"./VCard-BdrtuRPD.js";import{V as Ye}from"./VDialog-NnKSe6Uq.js";import{_ as $e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./extends-CF3RwP-h.js";import"./form-5pC8GpCN.js";import"./VSelect-DDLGMKRV.js";import"./VTextField-Bg92Kq3L.js";/* empty css                   */import"./VCounter-D0vsA7b8.js";import"./VImg-BEBs2K_P.js";import"./VField-Bs77dQvg.js";import"./easing-CjukEv2V.js";import"./VInput-WOzMkRuC.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-DC10drZ4.js";import"./ssrBoot-CMdykAJT.js";import"./VAvatar-DY8J7Y8l.js";import"./VDivider-BSW7EtyF.js";import"./dialog-transition-UqIsVCnT.js";import"./VMenu-CtbOZ7LL.js";import"./VOverlay-BeTVZ1OA.js";import"./delay-CiPbFjzB.js";import"./lazy-BQ6JzVrR.js";import"./scopeId-Cdi8TwQm.js";import"./VCheckboxBtn-B_RYkhur.js";import"./VSelectionControl-Dty7vXMq.js";import"./VChip-BABOvncP.js";import"./VSlideGroup-EpNUGEcd.js";/* empty css              */const Ge=u("h4",{class:"text-h4 text-center mb-2"}," Iskarta Sebebi Girişi ",-1),Fe=be({__name:"IskartaSebepGir",props:{sebepler:{default:()=>({ID:0,SEBEP:"",URUNID:0,ISEMRIID:0,BARKOD:"",OPERASYON:"",USERID:0})},isDialogVisible:{type:Boolean}},emits:["submit","update:isDialogVisible"],setup(R,{emit:L}){const A=l([]);he(async()=>{try{const c=await M.get("/api/sebep-list");A.value=c.data.map(r=>r.SEBEP)}catch(c){console.error("Sebep listesi yüklenirken hata oluştu:",c)}});const I=R,N=L,s=we({...I.sebepler}),S=()=>{s.SEBEP!==null&&(d(s.SEBEP),N("submit",s),N("update:isDialogVisible",!1))},d=async c=>{try{M.post("/api/iskartaEkle",{params:{id:s.ID,urunID:s.URUNID,isemriID:s.ISEMRIID,barkod:s.BARKOD,sebep:c,operasyon:s.OPERASYON,userID:s.USERID}}).catch(r=>{console.error("Veri çekilirken hata oluştu: ",r)}),f()}catch(r){console.error("Veri eklenirken hata oluştu:",r)}},f=()=>{Object.assign(s,{ID:0,SEBEP:""})},b=c=>{f(),N("update:isDialogVisible",c)};return(c,r)=>{const O=je,x=Ke;return w(),ge(Ye,{width:c.$vuetify.display.smAndDown?"auto":500,"model-value":I.isDialogVisible,"onUpdate:modelValue":b},{default:a(()=>[e(O,{onClick:r[0]||(r[0]=_=>b(!1))}),e(p,{class:"pa-sm-10 pa-2"},{default:a(()=>[e(Ce,null,{default:a(()=>[Ge,e(Le,{class:"mt-6",onSubmit:C(S,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(v,{cols:"12"},{default:a(()=>[e(x,{modelValue:s.SEBEP,"onUpdate:modelValue":r[1]||(r[1]=_=>s.SEBEP=_),label:"Iskarta Sebebi",placeholder:"Sebep Giriniz...",items:A.value},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:a(()=>[e(pe,{type:"submit"},{default:a(()=>[ve(" Kaydet ")]),_:1}),e(pe,{color:"secondary",variant:"tonal",onClick:r[2]||(r[2]=_=>b(!1))},{default:a(()=>[ve(" Vazgeç ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),Z=R=>(Oe("data-v-13d236b3"),R=R(),Ue(),R),ze=["src"],He=Z(()=>u("h2",null,"GERİ AL",-1)),Je=["src"],Qe=Z(()=>u("h2",null,"ISKARTA",-1)),qe=["src"],We={class:"text-center align-center justify-center pt-0"},Xe={class:"rotated-text",style:{"margin-block-start":"265px"}},Ze={style:{"margin-inline-start":"-20px"}},et={class:"rotated-text",style:{"margin-block-start":"125px"}},tt={style:{"margin-inline-start":"-20px"}},at=Z(()=>u("h3",{class:"rotated-text",style:{"margin-block-start":"140px"}},"ISKARTALAR",-1)),lt={style:{"margin-inline-start":"-20px"}},ot=be({__name:"esanjor",setup(R){const L=o=>o<700?"sm":"lg",A=Pe,I=Be,N=Ve,s=l(!1);l(0);const S=l(!1),d=l(!1),f=l(0);l(0);const b=l(!1),c=l(!1),r=l(0);l(0);const O=l(!1),x=l(!1),_=l(0),U=l(0),ee=l(0),te=l(0),ae=l(""),Y=l(0),$=l(0),G=l(""),F=l(""),m=l([]),le=l([]),oe=l([]),E=l(0),se=l(0);l(0);const z=Re("userData"),re=Me(),Ie=l(null);let h=l(""),g=l("");const ie=()=>{M.get("/api/listeEsanjor",{params:{operasyon1:h.value,operasyon2:g.value}}).then(o=>{m.value=o.data.liste,le.value=o.data.emirler,oe.value=o.data.iskartalar,E.value=o.data.toplamListe,se.value=o.data.toplamEmir,$.value=o.data.toplamIskarta,Y.value=o.data.toplamUretim}).catch(o=>{console.error("Veri çekilirken hata oluştu: ",o)})};async function ne(){if(d.value)return;S.value=!0,b.value=!0,U.value=Number(m.value[0].ID),M.post("/api/operasyonKaydet",{params:{id:m.value[0].ID,urunID:m.value[0].URUNID,isemriID:m.value[0].ISEMRIID,barkod:m.value[0].BARKOD,operasyon1:h.value,operasyon2:g.value,userID:z.value.id}}).then(n=>{console.log(n.data)}).catch(n=>{console.error("Veri çekilirken hata oluştu: ",n)}),d.value=!0,f.value=7;const o=setInterval(()=>{f.value-=1,f.value<=0&&(U.value=0,d.value=!(E.value>0),clearInterval(o))},1e3)}function P(){S.value=!1}async function ue(){if(!d.value||!b.value)return;M.post("/api/geriAl",{params:{id:U.value,userID:z.value.id,operasyon2:g.value}}).then(n=>{console.log(n.data)}).catch(n=>{console.error("Veri çekilirken hata oluştu: ",n)}),b.value=!1,c.value=!0,r.value=5;const o=setInterval(()=>{r.value-=1,r.value<=0&&clearInterval(o)},1e3)}function B(){S.value=!1}const _e=Se(()=>({ID:Number(U),SEBEP:"",URUNID:Number(ee),ISEMRIID:Number(te),BARKOD:String(ae),OPERASYON:String(h),USERID:Number(z.value.id)}));async function ce(){if(x.value||E.value==0)return;U.value=Number(m.value[0].ID),ee.value=Number(m.value[0].URUNID),te.value=Number(m.value[0].ISEMRIID),ae.value=String(m.value[0].BARKOD),s.value=!s.value,O.value=!0,x.value=!0,_.value=5;const o=setInterval(()=>{_.value-=1,_.value<=0&&(x.value=!(E.value>0),clearInterval(o))},1e3)}function K(){O.value=!1}function de(o){return new Intl.NumberFormat("tr-TR").format(o)}const H=l(null);he(()=>{ie(),H.value=setInterval(()=>{const o=new Date;G.value=o.toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),F.value=o.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),d.value=E.value==0?!0:f.value!=0,ie()},2e3)}),xe(()=>{H.value&&clearInterval(H.value)});const me=Ae();return Ee(()=>me.meta.title,o=>{const n=me.meta.title;switch(n){case"BÜKÜM":h.value="OPERASYON1",g.value="OPERASYON2";break;case"UÇ HAVŞA":h.value="OPERASYON2",g.value="OPERASYON3";break;case"TEST":h.value="OPERASYON3",g.value="OPERASYON4";break;case"SİPİR AÇMA":h.value="OPERASYON4",g.value="OPERASYON5";break;case"MONTAJ":h.value="OPERASYON5",g.value="MAMULFINAL";break}document.title="OFT Yazılım - "+String(n),re.setTitle(n),re.setToplam("")},{immediate:!0}),(o,n)=>{const De=Ne("router-view");return w(),T(ke,null,[(w(),ge(De,{key:o.$route.fullPath})),e(t(Te),{"screen-by-width":L,"single-column-screen":"sm"},{default:a(()=>[e(t(j),{ratio:1}),e(t(j),{ratio:1}),e(t(j),{ratio:1}),e(t(j),{ratio:1}),e(t(Q),{ratio:4}),e(t(Q),{ratio:3}),e(t(Q),{ratio:8}),e(t(D),null,{default:a(()=>[e(t(y),{row:0,col:0,colspan:2}),e(p,{class:"pa-8 text-center mb-2 me-2",style:{width:"100%"}},{default:a(()=>[e(V,{class:"h-200"},{default:a(()=>[e(v,{cols:"5",class:"d-flex flex-column align-left justify-center ps-0"},{default:a(()=>[e(p,{class:"mantar-buton text-center d-flex align-center justify-center position-relative",style:J([{transform:S.value?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease",cursor:d.value?"not-allowed":"pointer"},{"border-radius":"100px"}]),height:"200",width:"200",onMousedown:ne,onMouseup:P,onMouseleave:P,onTouchstart:C(ne,["prevent"]),onTouchend:P,onTouchcancel:P},{default:a(()=>[u("img",{src:d.value?t(I):t(A),alt:"Buton Simge",class:"button-icon"},null,8,ze)]),_:1},8,["style"])]),_:1}),e(v,{cols:"3",class:"d-flex flex-column align-center justify-center pt-0"},{default:a(()=>[He,e(p,{class:"mantar-buton text-center mt-2 d-flex align-center justify-center position-relative",style:J([{transform:b.value?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease",cursor:c.value?"not-allowed1":"pointer1"},{"border-radius":"75px"}]),height:"100",width:"100",onMousedown:ue,onMouseup:B,onMouseleave:B,onTouchstart:C(ue,["prevent"]),onTouchend:B,onTouchcancel:B},{default:a(()=>[u("img",{src:d.value?f.value==0?t(I):t(A):t(I),alt:"Buton Simge",class:"button-icon"},null,8,Je)]),_:1},8,["style"])]),_:1}),e(v,{cols:"4",class:"d-flex flex-column align-center justify-center pt-0 pe-0"},{default:a(()=>[Qe,e(p,{class:"mantar-buton text-center mt-2 d-flex align-center justify-center position-relative",style:J([{transform:O.value?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease",cursor:x.value?"not-allowed1":"pointer1"},{"border-radius":"75px"}]),height:"100",width:"100",onMousedown:ce,onMouseup:K,onMouseleave:K,onTouchstart:C(ce,["prevent"]),onTouchend:K,onTouchcancel:K},{default:a(()=>[u("img",{src:d.value?t(I):t(N),alt:"Buton Simge",class:"button-icon"},null,8,qe)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(D),null,{default:a(()=>[e(t(y),{row:1,col:0,colspan:2}),e(p,{class:"d-flex flex-column align-center justify-start text-center pb-0 me-2",style:{width:"100%",height:"90px"}},{default:a(()=>[u("div",We,[(w(),T("h1",{key:G.value,class:"date-time mb-0"},k(G.value),1)),(w(),T("h4",{key:F.value,class:"date-time",style:{"font-size":"40px","margin-top":"-10px"}},k(F.value),1))])]),_:1})]),_:1}),e(t(D),null,{default:a(()=>[e(t(y),{row:2,col:0,rowspan:2}),e(p,{class:"uygun text-center"},{default:a(()=>[e(fe,{name:"spin",mode:"out-in"},{default:a(()=>[(w(),T("h2",{key:Y.value,class:"animated-number pa-0",style:{color:"green"}},k(de(Y.value)),1))]),_:1})]),_:1})]),_:1}),e(t(D),null,{default:a(()=>[e(t(y),{row:2,col:1,rowspan:2}),e(p,{class:"iskarta text-center"},{default:a(()=>[e(fe,{name:"spin",mode:"out-in"},{default:a(()=>[(w(),T("h2",{key:$.value,class:"animated-number pa-0",style:{color:"red"}},k(de($.value)),1))]),_:1})]),_:1})]),_:1}),e(t(D),null,{default:a(()=>[e(t(y),{row:0,col:2}),e(p,{class:"pa-1 text-center mb-2",height:"264",outlined:"","max-width":"100%"},{default:a(()=>[e(V,null,{default:a(()=>[e(v,{cols:"1",class:"ma-0 pa-0 text-wrap"},{default:a(()=>[u("h3",Xe,"SIRADAKİ YARI MAMULLER - "+k(E.value),1)]),_:1}),e(v,{cols:"11"},{default:a(()=>[u("div",Ze,[e(t(q),{id:"grdSiradakiler",ref_key:"dataGrid",ref:Ie,"data-source":m.value,"key-expr":"ID",height:260,"show-borders":!0},{default:a(()=>[e(t(i),{"data-field":"ID",caption:"ID","data-type":"number",visible:!0,width:60}),e(t(i),{"data-field":"ISEMRIID",caption:"İŞ EMRİ","data-type":"number",visible:!0,width:80}),e(t(i),{"data-field":"URUNKODU",caption:"ÜRÜN KODU","data-type":"string",visible:!0,width:140}),e(t(i),{"data-field":"URUNADI",caption:"ÜRÜN ADI","data-type":"string",visible:!0}),e(t(W),{mode:"none"}),e(t(X),{mode:"virtual","row-rendering-mode":"virtual"})]),_:1},8,["data-source"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(D),null,{default:a(()=>[e(t(y),{row:1,col:2,rowspan:2}),e(p,{class:"pa-1 mt-0",height:"145"},{default:a(()=>[e(V,null,{default:a(()=>[e(v,{cols:"1",class:"ma-0 pa-0 text-wrap"},{default:a(()=>[u("h3",et,"İŞ EMRİ - "+k(se.value),1)]),_:1}),e(v,{cols:"11"},{default:a(()=>[u("div",tt,[e(t(q),{id:"grdEmirler","data-source":le.value,"key-expr":"ID",height:141,"show-borders":!0},{default:a(()=>[e(t(i),{"data-field":"ID",caption:"ID","data-type":"number",visible:!0,width:40}),e(t(i),{"data-field":"KOD",caption:"ÜRÜN KODU","data-type":"string",visible:!0,width:120}),e(t(i),{"data-field":"TANIM",caption:"ÜRÜN ADI","data-type":"string",visible:!0}),e(t(i),{"data-field":"PLANLANANMIKTAR",caption:"PLAN","data-type":"number",visible:!0,width:70}),e(t(i),{"data-field":"URETIMMIKTAR",caption:"ÜRETİM","data-type":"number",visible:!0,width:70}),e(t(W),{mode:"none"}),e(t(X),{mode:"virtual","row-rendering-mode":"virtual"})]),_:1},8,["data-source"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(D),null,{default:a(()=>[e(t(y),{row:3,col:2}),e(p,{class:"pa-1 mt-2",height:"164"},{default:a(()=>[e(V,null,{default:a(()=>[e(v,{cols:"1",class:"ma-0 pa-0 text-wrap"},{default:a(()=>[at]),_:1}),e(v,{cols:"11"},{default:a(()=>[u("div",lt,[e(t(q),{id:"grdIskartalar","data-source":oe.value,"key-expr":"ID",height:161,"show-borders":!0},{default:a(()=>[e(t(i),{"data-field":"ID",caption:"ID","data-type":"number",visible:!1,width:60}),e(t(i),{"data-field":"ESANJORID",caption:"EŞ.ID","data-type":"number",visible:!0,width:60}),e(t(i),{"data-field":"ISEMRIID",caption:"İŞ EMRİ","data-type":"number",visible:!0,width:80}),e(t(i),{"data-field":"URUNKODU",caption:"ÜRÜN KODU","data-type":"string",visible:!0,width:120}),e(t(i),{"data-field":"URUNADI",caption:"ÜRÜN ADI","data-type":"string",visible:!0}),e(t(i),{"data-field":"SEBEP",caption:"SEBEP","data-type":"string",visible:!0}),e(t(W),{mode:"none"}),e(t(X),{mode:"virtual","row-rendering-mode":"virtual"})]),_:1},8,["data-source"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Fe,{isDialogVisible:s.value,"onUpdate:isDialogVisible":n[0]||(n[0]=ye=>s.value=ye),sebepler:t(_e)},null,8,["isDialogVisible","sebepler"])],64)}}}),Ft=$e(ot,[["__scopeId","data-v-13d236b3"]]);export{Ft as default};
