import{g as N,h as F,i as Z,j as T,c as U,k as M,l as P,m as S,n as A,o as _,D as O}from"./data-grid-bcHRWDWG.js";import{a as p}from"./axios-CCb-kr4I.js";import{D as $,e as G,a as V,s as B,n as j}from"./FileSaver-DOHanaSG.js";import{d as q,r as v,E as z,w as W,o as Y,c as H,b as o,f as s,ai as d,x as c,t as u,e as J,n as l,F as Q}from"./main-C8N3ebfR.js";import{V as X}from"./VCardText-ARgIvpol.js";const ee={class:"grid m-2"},m="/api/mamultanimlari",se=q({__name:"MamulOzellikTanimlari",setup(ae){const w=v([]),a=v(""),g=e=>{D(e)},x=e=>{I(e)},f=e=>{k(e)},b=e=>{e.data.TANIM=a.value},E={allowUpdating:!0,allowAdding:!0,allowDeleting:!0,mode:"form",useIcons:!0},L={placeholder:"Sütun ara"},h=[{dataField:"ID",caption:"ID",allowEditing:!1,visible:!1},{dataField:"TANIM",caption:"TANIM",validationRules:[{type:"required"}]},{dataField:"DEGER",caption:"DEĞER",validationRules:[{type:"required"}]}],i=async e=>{try{const t=await p.get(m,{params:{filter:e}});w.value=t.data}catch(t){console.error("Error fetching data:",t),j("Veriler Alınamadı","error",1500)}finally{}},D=e=>{e.promise=new Promise(async(t,n)=>{try{e.newData.TANIM||(e.newData.TANIM=a.value);const r={...e.oldData,...e.newData};await p.put(`${m}/${e.key}`,r),await i(a.value),e.component.cancelEditData(),t()}catch(r){console.error("Error updating data:",r),n()}})},I=e=>{e.promise=new Promise(async(t,n)=>{try{await p.post(m,e.data),await i(a.value),e.component.cancelEditData(),t()}catch(r){console.error("Error adding data:",r),n()}})},k=e=>{e.promise=new Promise(async(t,n)=>{try{await p.delete(`${m}/${e.key}`),await i(a.value),e.component.cancelEditData(),t()}catch(r){console.error("Error deleting data:",r),n()}})};z(async()=>{a.value="ÖZELLİK 1"});const y=[{text:"Yenile"}];function C({itemData:e}){if(!(e!=null&&e.items))switch(e==null?void 0:e.text){case"Yenile":i(a.value);break}}const R=e=>{const t=new G.Workbook,n=t.addWorksheet("MamulTanimlari");V({component:e.component,worksheet:n,autoFilterEnabled:!0}).then(()=>{t.xlsx.writeBuffer().then(r=>{B(new Blob([r],{type:"application/octet-stream"}),"MamulTanimlari.xlsx")})}),e.cancel=!0};W(a,async(e,t)=>{await i(e)});const K=e=>{e.dataField==="TANIM"&&e.parentType==="dataRow"&&(e.editorOptions.disabled=!0,e.editorOptions.value=a.value)};return(e,t)=>(Y(),H(Q,null,[o(X,{class:"text-center d-flex items-center gap-y-2 flex-wrap"},{default:s(()=>[o(d,{class:c(["me-4",{"active-button":a.value==="ÖZELLİK 1"}]),disabled:a.value==="ÖZELLİK 1",onClick:t[0]||(t[0]=n=>a.value="ÖZELLİK 1")},{default:s(()=>[u(" ÖZELLİK 1 ")]),_:1},8,["disabled","class"]),o(d,{class:c(["me-4",{"active-button":a.value==="ÖZELLİK 2"}]),disabled:a.value==="ÖZELLİK 2",onClick:t[1]||(t[1]=n=>a.value="ÖZELLİK 2")},{default:s(()=>[u(" ÖZELLİK 2 ")]),_:1},8,["disabled","class"]),o(d,{class:c(["me-4",{"active-button":a.value==="ÖZELLİK 3"}]),disabled:a.value==="ÖZELLİK 3",onClick:t[2]||(t[2]=n=>a.value="ÖZELLİK 3")},{default:s(()=>[u(" ÖZELLİK 3 ")]),_:1},8,["disabled","class"]),o(d,{class:c(["me-4",{"active-button":a.value==="GRUP KODU"}]),disabled:a.value==="GRUP KODU",onClick:t[3]||(t[3]=n=>a.value="GRUP KODU")},{default:s(()=>[u(" GRUP KODU ")]),_:1},8,["disabled","class"]),o(d,{class:c(["me-4",{"active-button":a.value==="SINIF"}]),disabled:a.value==="SINIF",onClick:t[4]||(t[4]=n=>a.value="SINIF")},{default:s(()=>[u(" SINIF ")]),_:1},8,["disabled","class"])]),_:1}),J("div",ee,[o(l($),{"data-source":y,width:200,target:"#grid-container",onItemClick:C}),o(l(O),{id:"grid-container","data-source":w.value,columns:h,"key-expr":"ID","show-borders":!0,"editing-options":E,onRowUpdating:g,onRowInserting:x,onRowRemoving:f,"row-alternation-enabled":!0,onExporting:R,onEditorPreparing:K,onInitNewRow:b,height:"100%"},{default:s(()=>[o(l(N),{"allow-updating":!0,"allow-adding":!0,"allow-deleting":!0,mode:"row","use-icons":!0}),o(l(F),{visible:!0}),o(l(Z),{visible:!0,width:240,placeholder:"Ara..."}),o(l(T),{enabled:!0}),o(l(U),{mode:"virtual"}),o(l(M),{enabled:!0,"allow-export-selected-data":!1}),o(l(P),{height:"540px",enabled:!0,mode:"select",title:"Sütun Seçici"},{default:s(()=>[o(l(S),{my:"right top",at:"right bottom",of:".dx-datagrid-column-chooser-button"}),o(l(A),{enabled:!0,"editor-options":L}),o(l(_),{"allow-select-all":!0,"select-by-click":!0,recursive:!0})]),_:1})]),_:1},8,["data-source"])])],64))}});export{se as _};
